(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports={"path":"media/","videos":[{"filename":"Ding1.mp4","duration":2.7727},{"filename":"Ding10.mp4","duration":3.3733},{"filename":"Ding11.mp4","duration":3.5734999999999997},{"filename":"Ding12.mp4","duration":2.8728},{"filename":"Ding13.mp4","duration":4.507767},{"filename":"Ding14.mp4","duration":3.907167},{"filename":"Ding15.mp4","duration":3.7403329999999997},{"filename":"Ding16.mp4","duration":3.2731999999999997},{"filename":"Ding17.mp4","duration":3.306567},{"filename":"Ding18.mp4","duration":3.6736},{"filename":"Ding19.mp4","duration":4.4744},{"filename":"Ding2.mp4","duration":5.3753},{"filename":"Ding20.mp4","duration":6.643233},{"filename":"Ding21.mp4","duration":4.808067},{"filename":"Ding22.mp4","duration":2.9562169999999997},{"filename":"Ding23.mp4","duration":7.02695},{"filename":"Ding24.mp4","duration":3.92385},{"filename":"Ding25.mp4","duration":2.6725999999999996},{"filename":"Ding26.mp4","duration":3.456717},{"filename":"Ding27.mp4","duration":3.940533},{"filename":"Ding28.mp4","duration":3.02295},{"filename":"Ding29.mp4","duration":3.206467},{"filename":"Ding3.mp4","duration":3.1063669999999997},{"filename":"Ding30.mp4","duration":4.057317},{"filename":"Ding31.mp4","duration":3.62355},{"filename":"Ding32.mp4","duration":3.3733},{"filename":"Ding33.mp4","duration":5.8758},{"filename":"Ding34.mp4","duration":3.7236499999999997},{"filename":"Ding35.mp4","duration":3.840433},{"filename":"Ding36.mp4","duration":3.506767},{"filename":"Ding37.mp4","duration":2.9562169999999997},{"filename":"Ding38.mp4","duration":3.840433},{"filename":"Ding39.mp4","duration":4.958217},{"filename":"Ding4.mp4","duration":4.107367},{"filename":"Ding40.mp4","duration":2.6725999999999996},{"filename":"Ding41.mp4","duration":4.007267},{"filename":"Ding42.mp4","duration":2.9562169999999997},{"filename":"Ding43.mp4","duration":2.739333},{"filename":"Ding44.mp4","duration":3.656917},{"filename":"Ding45.mp4","duration":4.22415},{"filename":"Ding46.mp4","duration":2.789383},{"filename":"Ding47.mp4","duration":3.4400329999999997},{"filename":"Ding48.mp4","duration":3.606867},{"filename":"Ding49.mp4","duration":5.692283000000001},{"filename":"Ding5.mp4","duration":2.7727},{"filename":"Ding50.mp4","duration":4.507767},{"filename":"Ding51.mp4","duration":2.889483},{"filename":"Ding52.mp4","duration":2.338933},{"filename":"Ding53.mp4","duration":3.239833},{"filename":"Ding54.mp4","duration":3.490083},{"filename":"Ding55.mp4","duration":5.742333},{"filename":"Ding56.mp4","duration":3.690283},{"filename":"Ding57.mp4","duration":5.3753},{"filename":"Ding58.mp4","duration":3.1063669999999997},{"filename":"Ding59.mp4","duration":3.1063669999999997},{"filename":"Ding6.mp4","duration":2.7727},{"filename":"Ding60.mp4","duration":2.939533},{"filename":"Ding61.mp4","duration":3.239833},{"filename":"Ding62.mp4","duration":2.439033},{"filename":"Ding63.mp4","duration":2.439033},{"filename":"Ding64.mp4","duration":3.9739},{"filename":"Ding65.mp4","duration":4.1741},{"filename":"Ding66.mp4","duration":3.339933},{"filename":"Ding67.mp4","duration":3.5734999999999997},{"filename":"Ding68.mp4","duration":2.906167},{"filename":"Ding69.mp4","duration":3.907167},{"filename":"Ding7.mp4","duration":2.2054669999999996},{"filename":"Ding70.mp4","duration":2.906167},{"filename":"Ding71.mp4","duration":4.107367},{"filename":"Ding72.mp4","duration":2.7727},{"filename":"Ding73.mp4","duration":2.7727},{"filename":"Ding74.mp4","duration":2.0719999999999996},{"filename":"Ding75.mp4","duration":4.207467},{"filename":"Ding76.mp4","duration":3.3733},{"filename":"Ding77.mp4","duration":2.8728},{"filename":"Ding78.mp4","duration":2.3722999999999996},{"filename":"Ding79.mp4","duration":3.4400329999999997},{"filename":"Ding8.mp4","duration":2.0719999999999996},{"filename":"Ding80.mp4","duration":2.8060669999999996},{"filename":"Ding81.mp4","duration":2.705967},{"filename":"Ding82.mp4","duration":2.8394329999999997},{"filename":"Ding83.mp4","duration":4.507767},{"filename":"Ding84.mp4","duration":3.907167},{"filename":"Ding85.mp4","duration":3.7403329999999997},{"filename":"Ding86.mp4","duration":3.2731999999999997},{"filename":"Ding87.mp4","duration":3.306567},{"filename":"Feud1.mp4","duration":1.805067},{"filename":"Feud10.mp4","duration":2.2721999999999998},{"filename":"Feud11.mp4","duration":2.3722999999999996},{"filename":"Feud12.mp4","duration":2.4056669999999998},{"filename":"Feud13.mp4","duration":2.305567},{"filename":"Feud14.mp4","duration":2.0719999999999996},{"filename":"Feud15.mp4","duration":2.1053669999999998},{"filename":"Feud16.mp4","duration":1.638233},{"filename":"Feud17.mp4","duration":1.9719},{"filename":"Feud18.mp4","duration":1.7049670000000001},{"filename":"Feud19.mp4","duration":2.0719999999999996},{"filename":"Feud2.mp4","duration":1.905167},{"filename":"Feud20.mp4","duration":2.038633},{"filename":"Feud21.mp4","duration":1.905167},{"filename":"Feud22.mp4","duration":2.2555169999999998},{"filename":"Feud23.mp4","duration":2.939533},{"filename":"Feud24.mp4","duration":1.7383330000000001},{"filename":"Feud25.mp4","duration":2.188783},{"filename":"Feud26.mp4","duration":1.788383},{"filename":"Feud27.mp4","duration":2.005267},{"filename":"Feud28.mp4","duration":1.755017},{"filename":"Feud29.mp4","duration":2.02195},{"filename":"Feud3.mp4","duration":2.4056669999999998},{"filename":"Feud30.mp4","duration":2.639233},{"filename":"Feud31.mp4","duration":2.005267},{"filename":"Feud32.mp4","duration":2.856117},{"filename":"Feud33.mp4","duration":2.4056669999999998},{"filename":"Feud34.mp4","duration":1.7216500000000001},{"filename":"Feud35.mp4","duration":1.838433},{"filename":"Feud36.mp4","duration":3.02295},{"filename":"Feud37.mp4","duration":2.338933},{"filename":"Feud38.mp4","duration":1.838433},{"filename":"Feud39.mp4","duration":2.005267},{"filename":"Feud4.mp4","duration":1.805067},{"filename":"Feud40.mp4","duration":1.9719},{"filename":"Feud41.mp4","duration":2.005267},{"filename":"Feud42.mp4","duration":2.005267},{"filename":"Feud43.mp4","duration":2.1721},{"filename":"Feud44.mp4","duration":2.1721},{"filename":"Feud45.mp4","duration":2.0719999999999996},{"filename":"Feud46.mp4","duration":1.838433},{"filename":"Feud47.mp4","duration":1.805067},{"filename":"Feud48.mp4","duration":2.005267},{"filename":"Feud49.mp4","duration":2.0719999999999996},{"filename":"Feud5.mp4","duration":2.1387329999999998},{"filename":"Feud50.mp4","duration":1.8718000000000001},{"filename":"Feud51.mp4","duration":2.1053669999999998},{"filename":"Feud52.mp4","duration":2.1387329999999998},{"filename":"Feud53.mp4","duration":1.7717},{"filename":"Feud54.mp4","duration":1.838433},{"filename":"Feud55.mp4","duration":2.1053669999999998},{"filename":"Feud56.mp4","duration":2.1387329999999998},{"filename":"Feud57.mp4","duration":2.2721999999999998},{"filename":"Feud58.mp4","duration":2.1053669999999998},{"filename":"Feud59.mp4","duration":1.805067},{"filename":"Feud6.mp4","duration":1.7717},{"filename":"Feud60.mp4","duration":1.504767},{"filename":"Feud61.mp4","duration":2.739333},{"filename":"Feud62.mp4","duration":2.3722999999999996},{"filename":"Feud63.mp4","duration":1.92185},{"filename":"Feud64.mp4","duration":2.188783},{"filename":"Feud65.mp4","duration":2.005267},{"filename":"Feud66.mp4","duration":2.639233},{"filename":"Feud67.mp4","duration":1.955217},{"filename":"Feud68.mp4","duration":1.92185},{"filename":"Feud69.mp4","duration":2.439033},{"filename":"Feud7.mp4","duration":2.038633},{"filename":"Feud70.mp4","duration":2.5725},{"filename":"Feud71.mp4","duration":2.038633},{"filename":"Feud72.mp4","duration":2.1387329999999998},{"filename":"Feud73.mp4","duration":2.188783},{"filename":"Feud74.mp4","duration":1.654917},{"filename":"Feud75.mp4","duration":1.6716},{"filename":"Feud76.mp4","duration":2.1387329999999998},{"filename":"Feud77.mp4","duration":1.8551170000000001},{"filename":"Feud78.mp4","duration":2.2388329999999996},{"filename":"Feud79.mp4","duration":2.188783},{"filename":"Feud8.mp4","duration":2.1721},{"filename":"Feud80.mp4","duration":1.788383},{"filename":"Feud81.mp4","duration":2.1387329999999998},{"filename":"Feud82.mp4","duration":2.455717},{"filename":"Feud83.mp4","duration":2.288883},{"filename":"Feud84.mp4","duration":2.0719999999999996},{"filename":"Feud85.mp4","duration":2.0719999999999996},{"filename":"Feud86.mp4","duration":2.1387329999999998},{"filename":"Feud87.mp4","duration":1.8718000000000001}]}
},{}],2:[function(require,module,exports){
"use strict";!function(){function e(){for(var r=[],o=0;5>o;o++)r.push(n());var a=new t.SequencedSegment({segments:r,onStart:function(){var n=e(),r=a.msDuration();i.scheduleSegmentRender(n,r)}});return a}function n(){for(var e=t.util.shuffle(o.videos),n=t.util.choice([1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,5,5,6,6,7,7,8]),r=1e4,i=0;n>i;i++)r=Math.min(r,e[i].duration);var a=Math.pow(Math.random(),2.8)*(r-.3)+.3,u=[];for(i=0;n>i;i++){var s=new t.VideoSegment(e[i]);s.setDuration(a),u.push(s)}var d=new t.SequencedSegment({segments:u}),c=t.util.choice([1,1,1,2,2,2,3,3,4,5]);return t.finiteLoopingSegment(d,c)}var r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if(!r)return void console.log("only chrome is supported for now...");var t=require("../../src/frampton"),o=require("./media_config.json"),i=new t.WebRenderer({mediaConfig:o,timeToLoadVideo:7e3,videoSourceMaker:function(e){switch(e[0]){case"F":return"http://family.feud.online/media/"+e;case"D":return"http://answers.feud.online/media/"+e;default:return"media/"+e}}}),a=e();i.scheduleSegmentRender(a,4e3)}();

},{"../../src/frampton":3,"./media_config.json":1}],3:[function(require,module,exports){
"use strict";module.exports={Segment:require("./segment/segment"),VideoSegment:require("./segment/video-segment"),SequencedSegment:require("./segment/sequenced-segment"),StackedSegment:require("./segment/stacked-segment"),finiteLoopingSegment:require("./segment/finite-looping-segment"),Renderer:require("./renderer/renderer"),VideoRenderer:require("./renderer/video-renderer"),WebRenderer:require("./renderer/web-renderer"),util:require("./util")};

},{"./renderer/renderer":4,"./renderer/video-renderer":5,"./renderer/web-renderer":6,"./segment/finite-looping-segment":7,"./segment/segment":8,"./segment/sequenced-segment":9,"./segment/stacked-segment":10,"./segment/video-segment":11,"./util":12}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();module.exports=function(){function e(n){_classCallCheck(this,e),this.mediaConfig=n.mediaConfig,this.outputFilepath=void 0!==n.outputFilepath?n.outputFilepath:"./out/"}return _createClass(e,[{key:"renderSegment",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];switch(e.segmentType){case"video":this.renderVideoSegment(e,n);break;case"sequence":this.renderSequencedSegment(e,n);break;case"stacked":this.renderStackedSegment(e,n);break;default:console.log("unhandled sequence type: "+e.segmentType)}}},{key:"renderVideoSegment",value:function(){}},{key:"renderSequencedSegment",value:function(){}},{key:"renderStackedSegment",value:function(){}},{key:"overrideOnStart",value:function(e,n){var t=e.onStart;e.onStart=function(){t&&t(),e.onStart=t,n()}}},{key:"overrideOnComplete",value:function(e,n){var t=e.onComplete;e.onComplete=function(){t&&t(),e.onComplete=t,n()}}}]),e}();

},{}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Renderer=require("./renderer");module.exports=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Renderer);

},{"./renderer":4}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Renderer=require("./renderer"),TimePerFrame=16.67;module.exports=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.timeToLoadVideo=e.timeToLoadVideo||1200,n.videoSourceMaker=e.videoSourceMaker||n.defaultSourceMaker(),n.log=e.log||!1,n.domContainer=document.body,n.scheduledRenders=[],n.log&&console.log("frampton is starting now..."),n.startTime=window.performance.now(),n.lastUpdateTime=n.startTime,n.update(),n}return _inherits(t,e),_createClass(t,[{key:"update",value:function(){window.requestAnimationFrame(this.update.bind(this));var e=window.performance.now();this.lastUpdateTime=e;for(var t=this.timeToLoadVideo+TimePerFrame,n=this.scheduledRenders.length-1;n>=0;n--){var o=this.scheduledRenders[n],r=o.time-e;t>r&&(this.renderSegment(o.segment,{offset:Math.max(r,0)}),this.scheduledRenders.splice(n,1))}}},{key:"renderVideoSegment",value:function(e,t){function n(){e.didStart(),a.play(),a.style.opacity=e.opacity}function o(){e.loop?(a.pause(),a.currentTime=e.startTime,a.play(),setTimeout(o,e.msDuration())):(e.cleanup(),a.style.opacity=0,a.src="",a.parentNode.removeChild(a))}var r=t.offset,i=void 0===r?0:r,a=document.createElement("video");a.preload=!0,a.className="frampton-video";var s=a.canPlayType("video/mp4").length>0?e.filename:e.extensionlessName()+".webm";a.src=this.videoSourceMaker(s),a.style.zIndex=e.z,e.width&&(a.style.width=a.style.height=e.width),e.top&&(a.style.top=e.top),e.left&&(a.style.left=e.left),a.currentTime=e.startTime,a.style.opacity=0,this.domContainer.appendChild(a),this.log&&(a.onplaying=function(){console.log("playing "+a.src),console.log("actual duration: "+a.duration+", segment duration: "+e.videoDuration+", difference: "+(e.videoDuration-a.duration))}),setTimeout(function(){n(),setTimeout(o,e.msDuration())},i)}},{key:"renderSequencedSegment",value:function(e,t){var n=this,o=t.offset,r=void 0===o?0:o;e.segments.forEach(function(t,o){n.scheduleSegmentRender(t,r),r+=t.msDuration(),0===o?n.overrideOnStart(t,function(){e.didStart()}):o===e.segmentCount()-1&&n.overrideOnComplete(t,function(){e.cleanup()})})}},{key:"renderStackedSegment",value:function(e,t){var n=this,o=t.offset,r=void 0===o?0:o;e.segments.forEach(function(t,o){var i=r+e.msSegmentOffset(o);n.scheduleSegmentRender(t,i),0===o&&n.overrideOnStart(t,function(){e.didStart()})}),setTimeout(e.cleanup.bind(e),r+e.msDuration())}},{key:"scheduleSegmentRender",value:function(e,t){var n=window.performance.now()+t;this.scheduledRenders.push({segment:e,time:n})}},{key:"defaultSourceMaker",value:function(){var e=this;return function(t){return e.mediaConfig.path+t}}}]),t}(Renderer);

},{"./renderer":4}],7:[function(require,module,exports){
"use strict";var SequencedSegment=require("./sequenced-segment");module.exports=function(e){for(var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1],t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=[],u=0;n>u;u++)r.push(e.clone());t.segments=r;var s=new SequencedSegment(t);return s};

},{"./sequenced-segment":9}],8:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();module.exports=function(){function t(e){_classCallCheck(this,t),this.onStart=e.onStart,this.onComplete=e.onComplete}return _createClass(t,[{key:"copy",value:function(t){return this.onStart=t.onStart,this.onComplete=t.onComplete,this}},{key:"clone",value:function(){return new t({}).copy(this)}},{key:"didStart",value:function(){this.onStart&&this.onStart()}},{key:"cleanup",value:function(){this.onComplete&&this.onComplete()}},{key:"getDuration",value:function(){return 0}},{key:"msDuration",value:function(){return 1e3*this.getDuration()}}]),t}();

},{}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},Segment=require("./segment");module.exports=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.segmentType="sequence",n.segments=e.segments||[],n}return _inherits(t,e),_createClass(t,[{key:"copy",value:function(e,n){_get(Object.getPrototypeOf(t.prototype),"copy",this).call(this,e),this.segments=[];for(var r=0;r<e.segments.length;r++){var o=e.segments[r];this.segments.push(n?o.clone():o)}return this}},{key:"clone",value:function(){return(new t).copy(this,!0)}},{key:"getSegment",value:function(e){return this.segments[e]}},{key:"segmentCount",value:function(){return this.segments.length}},{key:"getDuration",value:function(){for(var e=0,t=0;t<this.segments.length;t++)e+=this.segments[t].getDuration();return e}}]),t}(Segment);

},{"./segment":8}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function e(t,n,s){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,s)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(s)},Segment=require("./segment");module.exports=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));n.segmentType="stacked",n.segments=e.segments||[],n.stackAllowance=e.stackAllowance||.25,n.segmentOffsets=[],n.segmentEndTimes=[];for(var s=0,r=0;r<n.segments.length;r++){n.segmentOffsets.push(s);var o=n.segments[r].getDuration();n.segmentEndTimes.push(s+o),s+=Math.random()*o*n.stackAllowance*2+o*(1-n.stackAllowance)}return n}return _inherits(t,e),_createClass(t,[{key:"copy",value:function(e,n){_get(Object.getPrototypeOf(t.prototype),"copy",this).call(this,e),this.stackAllowance=e.stackAllowance;for(var s=0;s<e.segments.length;s++){var r=e.segments[s];this.segments.push(n?r.clone():r),this.segmentOffsets.push(e.segmentOffsets[s]),this.segmentEndTimes.push(e.segmentEndTimes[s])}return this}},{key:"clone",value:function(){return(new t).copy(this,!0)}},{key:"msSegmentOffset",value:function(e){return 1e3*this.segmentOffsets[e]}},{key:"getDuration",value:function(){return Math.max.apply(null,this.segmentEndTimes)}}]),t}(Segment);

},{"./segment":8}],11:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},Segment=require("./segment");module.exports=function(t){function e(t){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return i.segmentType="video",i.filename=t.filename,i.videoDuration=t.duration,i.startTime=t.startTime||0,i.duration=i.videoDuration-i.startTime,i.loop=t.loop||!1,i.z=t.z||0,i.opacity=t.opacity||1,i.width=t.width,i.top=t.top,i.left=t.left,i}return _inherits(e,t),_createClass(e,[{key:"copy",value:function(t){return _get(Object.getPrototypeOf(e.prototype),"copy",this).call(this,t),this.filename=t.filename,this.videoDuration=t.videoDuration,this.startTime=t.startTime,this.duration=t.duration,this.loop=t.loop,this.z=t.z,this.width=t.width,this.left=t.left,this.top=t.top,this}},{key:"clone",value:function(){return new e({}).copy(this)}},{key:"setFilename",value:function(t){return this.filename=t,this}},{key:"setEndTime",value:function(t){return this.startTime=t-this.duration,this}},{key:"setStartTime",value:function(t){return this.startTime=t,this.duration=Math.min(this.duration,this.videoDuration-t),this}},{key:"setDuration",value:function(t,e){this.duration=Math.min(t,this.videoDuration);var i=this.videoDuration-this.duration;return(e||this.startTime>i)&&(this.startTime=i),this}},{key:"extensionlessName",value:function(){return this.filename.substring(0,this.filename.lastIndexOf("."))}},{key:"endTime",value:function(){return this.startTime+this.duration}},{key:"getDuration",value:function(){return this.duration}},{key:"msStartTime",value:function(){return 1e3*this.startTime}},{key:"msEndTime",value:function(){return 1e3*this.endTime()}}]),e}(Segment);

},{"./segment":8}],12:[function(require,module,exports){
"use strict";function choice(n){var r=Math.floor(Math.random()*n.length);return n[r]}function shuffle(n){for(var r=new Array(n.length),t=0;t<n.length;t++)r[t]=n[t];return r.sort(function(){return.5-Math.random()}),r}function randInt(n,r){return n||(n=1),r||(r=1e3),Math.floor(Math.random()*(r-n))+n}module.exports={choice:choice,shuffle:shuffle,randInt:randInt};

},{}]},{},[2]);
